<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title></title>
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.css">
	<script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js"></script>
</head>
<body>
	<div id="pageOne" data-role="page">
		<div data-role="content">
			<a href="#pageTwo" data-role="button">点击选择国籍</a>
		</div>
	</div>
	<div id="pageTwo" data-role=page>
		<div data-role="content">
			<ul data-role="listview" data-filter="true" data-filter-placeholder="搜索姓名" id="ul-nationlist">
			</ul>
		</div>
	</div>
</body>
<script type="text/javascript">
	$(document).ready(function(){
//		var url = "./nationList.json"/*json文件url，本地的就写本地的位置，如果是服务器的就写服务器的路径*/
//      var request = new XMLHttpRequest();
//      request.open("get", url);/*设置请求方法与路径*/
//      request.send(null);/*不发送数据到服务器*/
//      request.onload = function () {/*XHR对象获取到返回信息后执行*/
//          if (request.status == 200) {/*返回状态为200，即为数据获取成功*/
//              var nationList = JSON.parse(request.responseText);
//				nationListCreat(nationList);
//          }else{
//          	console.log("这是错误的")
//          }
//      }
	$.getJSON("nationList.json",function(data){
		console.log(data);
		var nationList = data;
//		var nationList = JSON.parse(request.responseText);
		nationListCreat(nationList);
	})
	});
	function nationListCreat(nationList){
		for(var i in nationList){
			$('#ul-nationlist').append('<li class="ui-li ui-li-static ui-btn-up-c ui-li-has-icon ui-first-child ui-last-child"><img src="'+nationList[i].imgSrc+ '"class="ui-li-icon"/><span>'+nationList[i].zh+'</span><span>'+nationList[i].code+'</span></li>');
		}
	}
</script>
</html>